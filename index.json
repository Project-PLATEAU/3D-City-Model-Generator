{
  "index.html": {
    "href": "index.html",
    "title": "3D都市モデル生成シミュレータ",
    "summary": "3D都市モデル生成シミュレータ 本リポジトリでは、Project PLATEAUの令和5年度のユースケース開発業務の一環として行われた「dt24-05 3D都市モデル生成シミュレータ」の成果物である「3D都市モデル生成ツール」のソースコードを公開しています。 「3D都市モデル生成ツール」は、建物フットプリントデータやユーザーが指定するパラメータに基づき、3D都市モデル（建築物、道路、植生、都市設備）を自動で生成するWebオーサリングツールです。このツールは、衛星画像や沿道画像の範囲の3D都市モデルの作成に対応しており、詳細レベル（LOD）の向上機能（LOD1-3）を備えています。"
  },
  "manual/devMan.html": {
    "href": "manual/devMan.html",
    "title": "環境構築手順書",
    "summary": "環境構築手順書 1 本書について 本書では、3D都市モデル生成シミュレータシステム（以下「本システム」という。）の利用環境構築手順について記載しています。 2 動作環境 本システムの動作環境は以下のとおりです。 項目 最小動作環境 推奨動作環境 OS Ubuntu 20.08 同左 GPU メモリ12GB以上 NVIDIA A100 Python Python==3.9 同左 CUDA CUDA>=11.3 CUDA==12.4 3 サーバー環境構築及びライブラリインストール手順 Dockerのインストール 以下のコマンドを使ってインストールします。 sudo apt update sudo apt install apt-transport-https ca-certificates curl software-properties-common curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" sudo apt update sudo apt install docker-ce NVIDIAドライバのインストール DockerコンテナでGPUを使用するためには、まずNVIDIAのGPUドライバがインストールされている必要があります。以下のコマンドでドライバをインストールします。 sudo apt install nvidia-driver-565 NVIDIA Container Toolkitのインストール GPUを使うために、NVIDIAのContainer Toolkitをインストールします。これにより、Dockerコンテナ内でGPUリソースを利用できるようになります。 distribution=$(. /etc/os-release;echo $ID$VERSION_ID) curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add - curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list sudo apt-get update sudo apt-get install -y nvidia-docker2 sudo systemctl restart docker 4 準備物一覧 アプリケーションを利用するために以下のデータを入手します。 データ種別 用途 形式 ① コード及びモデル 3D都市モデル生成 .zip ② Dockerfile サーバー計算環境の構築 Dockerfile データ準備完了後、下記のコマンドで.zipを解凍： unzip bridge2025.zip ファイル構造は以下の通りです： root ├── bridge2025 └── Dockerfile bridge2025は下記の機械学習と深層学習のモデルが含まれています： データ種別 用途 形式 ① 深層学習建物自動抽出モデル 建物生成（仮想都市） .pth ② 深層学習建物屋根自動分類モデル 建物生成（仮想都市） .pth ③ 機械学習建物高さ自動予測モデル 建物生成（共通） .json ④ 深層学習植生自動抽出モデル 植生生成（実都市） .onnx ⑤ 深層学習道路自動抽出モデル 道路生成（実都市） .onnx ⑥ 生成式AI建物生成モデル 建物生成（実都市） .ckpt モデルの置く場所は以下の通りです： bridge2025 ├── Roof_classification_inference │ ├──Building_extraction │ │ └──model │ │ └──model_best.pth ① │ └──Roof_classification │ └──model │ └──best_model.pth ② ├── Para_calc │ └──xgb_model_20250109-113703.json ③ ├── bg_extract │ ├──tensorrt_veg │ │ └──end2end.onnx ④ │ └──tensorrt_road │ └──end2end.onnx ⑤ └── Building_Generation_Opening └──BldgXL └──plateau_lod2_type_mixed.pt ⑥ 5 プログラム実行 docker build -t bridge2025 . docker run --gpus all --name bridge -it bridge2025:latest /bin/bash cd bridge2025 python main.py"
  },
  "manual/userMan.html": {
    "href": "manual/userMan.html",
    "title": "操作マニュアル",
    "summary": "操作マニュアル 1 本書について 本書では、3D都市モデル生成シミュレータシステム（以下「本システム」という。）の操作手順について記載しています。 3D都市モデル生成までの流れ 2 機能選択 ① デジタルシティサービスにアクセスし、“3D都市モデル生成シュミレーター”をクリックし、生成を行う画面へ移動 https://aigidjp.github.io/digitalcity_3D_city_model_simulator/ 3 機能種別選択 3-1 仮想都市の場合 3-1-1 一般パラメータ設定（仮想都市:200*200mグリッド） 生成スタイル（Randomseed）を設定します。 3-1-2 詳細パラメータ設定（仮想都市） 各地物のパラメータ設定：対象地物（建築物、道路、植生、都市設備、地形）別に、LOD（詳細レベル）、地物固有のパラメータを設定します。 3-1-3「実行」をクリックすると生成が開始されます。 3-2 モデル生成:（仮想都市）※約5分かかります 3-3 データ出力・可視化（仮想都市） ①設定内容を確認できます。 ②可視化: ツール内で直接生成された3D都市モデルを閲覧（ズーム，回転）できます。 4-1 実際都市の場合 4-1-1 一般パラメータ設定（実際の都市） ①データ入力：生成したい建物のフットプリントデータ（GeoJSON形式）を選択します。 ②生成スタイル：ScaleとRandom seedを設定します。 ③出力フォルダ指定：出力される3D都市モデルのファイルの保存先を指定します。 4-1-2 詳細パラメータ設定（実際の都市） ①リファレンスデータ入力：対象地域の衛星画像（TIFF形式）を選択します。 ②各地物のパラメータ設定：対象地物（建築物、道路、植生、都市設備、地形）別に、LOD（詳細レベル）、地物固有のパラメータを設定します。 ③”実行”をクリックすると生成が開始されます。 4-2 モデル生成：（実際の都市）※約40分かかります モデル生成プロセスを開始します。入力データとパラメータに基づいて自動的に3D都市モデルを生成します。 4-3 データ出力・可視化（実際の都市） ①設定内容を確認できます。 ②可視化：ツール内で直接生成された3D都市モデルを閲覧（ズーム，回転）できます。"
  }
}